{% extends "_layout.html" %}
{% load static %}
{% load i18n %}

{% block main %}
    {% include "graphViews/profileLayout.html" %}

    <script>
        $(document).ready(function(){
            $("#table_id").DataTable();
        });
    </script>
    <div style="width:90%; margin:0 auto;">
        <table id="table_id" class="table table-striped table-bordered" cellspacing="1" width="100%">
    
            <thead>
                    <th>{% trans "User" %}</th>
                    <th>{% trans "Phone Number" %}</th>
                    <th>{% trans "Display Name" %}</th>
                    <th>{% trans "IMSI" %}</th>
                    <th>{% trans "GUTI" %}</th>
                    <th>{% trans "Local" %}</th>
                    <th>{% trans "Role" %}</th>
                    <th>{% trans "Connectivity Status" %}</th>
                    <th>{% trans "Last Online" %}</th>
                    <th>{% trans "Rate Limit Kpbs" %}</th>
            </thead>
            <tbody>
            {% for d in data %}
            <tr>
                <td>{{d.user}}</td>
                <td>{{d.phonenumber}}</td>
                <td>{{d.display_name}}</td>
                <td>{{d.imsi}}</td>
                <td>{{d.guti}}</td>
                
                {% if d.is_local == True%}
                    <td>Yes</td>
                {% else %}
                    <td>No</td>
                {% endif %}
                
                {%if d.role == 1 %}
                    <td>Admin</td>
                {%elif d.role == 2 %}
                    <td>User</td>
                {%else%}
                    <td>Researcher</td>
                {% endif %}
                
                {% if d.connectivity_status == 1 %}
                    <td>Connected</td>
                {% elif d.connectivity_status == 2 %} 
                    <td>Not Connected</td>
                {% else %}
                    <td>Deactivated</td>
                {% endif %}
                
                <td>{{d.last_time_online}}</td>
                <td>{{d.rate_limit_kbps}}</td>
            </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>


{% for d in dataFromServer %}
<tr>
    {% for x in d %} <td>{{ x }}</td>
    {% endfor %}
</tr>
{% endfor %}
<!--
    <script>
        var dataFromServer = {{data | safe}};
        $(document).ready( function(){
            $('#my-table').DataTable({
                order: [[0, "asc"]],
                pageLength: 25,
                responsive: true,
                data: dataFromServerata
            });
        }
    </script>


&lt;!&ndash;    <script src="{% static "js/data/userConsumption.js" %}"></script>&ndash;&gt;
    <script>
        // var dataFromServer = {{data | safe}};
        // console.log(dataFromServer);
        // $(document).ready(function() {
        //
        //     var json=JSON.parse('{{ json_data | safe }}');
        //     $('#body').DataTable({
        //         data: json,
        //         columns:[
        //             { title: "user" },
        //             { title: "phonenumber" },
        //             { title: "display_name" }]
        //     } );
        // };-->
    </script>

    
{% endblock %}
